---
title: Windows Server 2016 中 Windows 主控台的新功能
description: 列出 Windows Server 2016 主控台的重要新功能。
ms.prod: windows-server
ms.technology: server-general
ms.date: 10/04/2016
ms.topic: article
ms.assetid: da9fc582-033b-4973-84e7-0c6024ecfcbc
author: jaimeo
ms.author: jaimeo
manager: dongill
ms.localizationpriority: medium
ms.openlocfilehash: b055c379e1d5ee632e420ffd1362389878d3dfd1
ms.sourcegitcommit: 3a3d62f938322849f81ee9ec01186b3e7ab90fe0
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2020
ms.locfileid: "80825961"
---
# <a name="whats-new-in-the-windows-console-in-windows-server-2016"></a>Windows Server 2016 中 Windows 主控台的新功能
>適用於：Windows Server 2016

主控台主機 (支援所有字元模式應用程式，包括 Windows 命令提示字元、Windows PowerShell 命令提示字元等的基礎程式碼) 已利用數種方式更新，以新增各種不同的新功能。  

## <a name="controlling-the-new-features"></a>控制新功能  
新功能預設將會啟用，但您可以透過 [內容] 介面 (大部分位於 [選項]  索引標籤上)，或使用這些登錄機碼 (所有機碼都是位於 **HKEY_CURRENT_USER\Console** 下的 DWORD 值) 來開啟和關閉各項新功能，或是還原為先前的主控台主機：  

|登錄機碼|說明|  
|----------------|---------------|  
|ForceV2|1 會啟用所有新主控台功能；0 會停用所有新功能。 注意︰此值不會儲存在捷徑中，而只會儲存在此登錄機碼中。|  
|LineSelection|1 會啟用線路選擇；0 會僅使用區塊模式|  
|FilterOnPaste|1 會啟用新的貼上行為|  
|LineWrap|1 會在您調整主控台視窗大小時將文字換行|  
|CtrlKeyShortcutsDisabled|0 會啟用新的快速鍵；1 會予以停用|  
|ExtendedEdit Keys|1 會啟用整組鍵盤選取按鍵；0 會予以停用|  
|TrimLeadingZeros|1 會修剪按兩下所選取項目中的前置字元「零」；0 會保留前置字元「零」|  
|WindowsAlpha|設定介於 30% 到 100% 之間的不透明度值。 請使用 0x4C 到 0xFF 或 76 到 255 來指定值|  
|WordDelimiters|定義用來在使用 CTRL+SHIFT+ARROW 以一次選取整個單字的方式來選取文字時，用來進行跳過的字元 (預設是空白字元)。 設定此 REG_SZ 值以包含您想要視為分隔符號的所有字元。 注意︰此值不會儲存在捷徑中，而只會儲存在此登錄機碼中。|  

這些設定會在 [HKCU\Console] 下的 [登錄] 中，根據每個視窗標題分別儲存。 捷徑所開啟的主控台視窗會將這些設定儲存在捷徑當中；如果將捷徑複製到另一部電腦，設定也會隨著移至新電腦。 捷徑中的設定會覆寫所有其他設定，包括全域設定和預設值。 不過，如果您使用 [選項]  索引標籤中的 [使用舊版主控台]  來還原成原始的主控台，此設定將會是全域設定，並會套用至所有後續的視窗 (包括重新啟動電腦之後)。  

您可以透過在自動安裝檔案中或使用 Windows PowerShell 適當地設定 [登錄]，以預先設定這些設定或編寫指令碼。  

16 位元 NTVDM 應用程式一律會還原為較舊的主控台主機。  

> [!NOTE]  
> 如果您在使用新的主控台設定時遇到問題，而且無法使用列於此處的所有特定選項來解決該問題，您隨時可以透過將 ForceV2 設定為 0，或是使用 [選項]  中的 [使用舊版主控台]  控制項，來還原至原始的主控台。  

## <a name="console-behavior"></a>主控台行為  
您現在可以使用滑鼠抓取視窗邊緣然後加以拖曳，來調整主控台視窗大小。 捲軸只會在您手動設定視窗尺寸 (透過使用 [內容]  中的 [配置]  索引標籤)，或是當緩衝區中文字最長那一行的寬度超過目前視窗大小時，才會出現。  

新的主控台視窗現已支援自動換行。 不過，如果您使用主控台 API 來變更緩衝區中的文字時，主控台會將文字保留為原本插入時的模樣。  

主控台視窗現在能有半透明效果 (最小透明度為 30%)。 您可以從 [內容] 功能表，或是使用下列鍵盤命令來調整透明度︰  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|增加透明度|CTRL+SHIFT+加號 (+) 或 CTRL+SHIFT+滑鼠向上捲動|  
|降低透明度|CTRL+SHIFT+減號 (-) 或 CTRL+SHIFT+滑鼠向下捲動|  
|切換全螢幕模式|ALT+ENTER|  

## <a name="selection"></a>選項  
有許多可用來選取文字和行，以及標記文字和使用緩衝區歷程記錄的新選項。 主控台會嘗試避免與使用相同索引鍵的應用程式發生衝突。  

**適用於開發人員：** 如果發生衝突，您通常可以使用 SetConsoleMode() API 來控制應用程式使用列輸入、處理輸入，以及回應輸入模式的行為。 如果您是以處理輸入模式執行，便適用下列捷徑，針對其他模式則必須交由您的應用程式處理。 所有未列於此處的按鍵組合，都會以和舊版主控台相同的方式運作。 您也可以利用 [選項]  索引標籤上的各種設定來嘗試解決衝突。如果全都失敗，您隨時可以還原為原始的主控台。  

您現在可以在快速編輯模式外使用「按一下並拖曳」的選取方式，此選取方式可以和在「記事本」中一樣地跨行選取文字，而不再只能選取一個矩形區塊。 複製作業不會再要求您移除分行符號。 除了「按一下並拖曳」選取方式之外，也提供下列按鍵組合︰  

**文字選取**  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|將游標移至某一字元的左側，以延伸選取範圍|SHIFT+向左鍵|  
|將游標移至某一字元的右側，以延伸選取範圍|SHIFT+向右鍵|  
|從插入點向上逐行選取文字|SHIFT+向上鍵|  
|從插入點向下將文字選取範圍延伸一行|SHIFT+向下鍵|  
|如果游標位於目前正在編輯那一行，使用此命令一次以將選取範圍延伸至該輸入行的最後一個字元。 使用第二次以將選取範圍延伸至右邊界。|SHIFT+END|  
|如果游標「沒有」  位於目前正在編輯的那一行，使用此命令以選取介於插入點和右邊界之間的所有文字。|SHIFT+END|  
|如果游標位於目前正在編輯的那一行，使用此命令一次以將選取範圍延伸至命令提示字元後的第一個字元。 使用第二次以將選取範圍延伸至右邊界。|SHIFT+HOME|  
|如果游標「沒有」  位於目前正在編輯的那一行，使用此命令以將選取範圍延伸至左邊界。|SHIFT+HOME|  
|將選取範圍向下延伸一個畫面|SHIFT+PAGE DOWN|  
|將選取範圍向上延伸一個畫面|SHIFT+PAGE UP|  
|將選取範圍向右延伸一個單字。 (您可以使用 WordDelimiters 登錄機碼來為單字定義分隔符號)。|CTRL+SHIFT+向右鍵|  
|將選取範圍向左延伸一個單字|CTRL+SHIFT+HOME|  
|將選取範圍延伸至螢幕緩衝區的開頭|CTRL+SHIFT+END|  
|如果游標位於目前那一行，且該行不是空的，便會選取提示之後的所有文字|CTRL+A|  
|如果游標「沒有」  位於目前那一行，便會選取整個緩衝區|CTRL+A|  

**編輯文字**  

您可以使用鍵盤命令在主控台中複製並貼上文字。 CTRL+C 現在具有兩種功能。 如果使用時並未選取任何文字，它會如往常般傳送 BREAK 命令。 如果有選取文字，第一次使用時會複製該文字並清除選取範圍；第二次使用時會傳送 BREAK。 以下是其他的編輯命令︰  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|將文字貼到命令列|CTRL+V|  
|將選取的文字複製到剪貼簿|CTRL+INS|  
|將選取的文字複製到剪貼簿；傳送 BREAK|CTRL+C|  
|將文字貼到命令列|SHIFT+INS|  

**標記模式**  

若要進入標記模式，您可以隨時以滑鼠右鍵按一下主控台標題列的任何地方，指向 [編輯]  ，然後從開啟的功能表中選取 [標記]  。 您也可以輸入 CTRL+M。 處於標記模式時，使用 ALT 鍵來識別換行選取的開頭。 (如果 [啟用換行選取]  已停用，標記模式將會以區塊的方式選取文字)。處於標記模式時，CTRL+SHIFT+方向鍵會依字元逐一選取，而不是如一般模式中依單字逐一選取。 除了 [編輯文字]  區段中的選取按鍵之外，也可以在標記模式中使用下列組合︰  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|進入標記模式以在視窗中移動指標|CTRL+M|  
|搭配其他按鍵組合，在標記模式中開始換行選取|ALT|  
|朝指定的方向移動游標|方向鍵|  
|朝指定的方向將游標移動一頁|PAGE 鍵|  
|將游標移至緩衝區的開頭|CTRL+HOME|  
|將游標移至緩衝區的結尾|CTRL+END|  

**瀏覽歷程記錄**  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|在輸出歷程記錄中上移一行|CTRL+向上鍵|  
|在輸出歷程記錄中下移一行|CTRL+向下鍵|  
|將檢視區移至緩衝區的頂端 (如果命令列是空的)，或是刪除游標左側的所有字元 (如果命令列不是空的)|CTRL+HOME|  
|將檢視區移至命令列 (如果命令列是空的)，或是刪除游標右側的所有字元 (如果命令列不是空的)|CTRL+END|  

**其他鍵盤命令**  

|若要這樣做：|使用此按鍵組合︰|  
|---------------|-----------------------------|  
|開啟 [尋找] 對話方塊|CTRL+F|  
|關閉主控台視窗|ALT+F4|  
