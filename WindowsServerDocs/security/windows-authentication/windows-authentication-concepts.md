---
title: Windows 驗證概念
description: Windows Server 安全性
ms.topic: article
ms.assetid: 29d1db15-cae0-4e3d-9d8e-241ac206bb8b
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: ee204320696ac10eaf341df06d7c458198b3ec28
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/07/2020
ms.locfileid: "87936532"
---
# <a name="windows-authentication-concepts"></a>Windows 驗證概念

>適用於：Windows Server (半年度管道)、Windows Server 2016

此參考總覽主題說明 Windows 驗證所依據的概念。

驗證是確認物件或個人身分識別的程序。 驗證物件時，目標是要確認該物件為正版。 當您驗證個人時，目標是要確認該人員不是冒名頂替者。

在網路內容中，驗證就是針對網路應用程式或資源提供身分識別的操作。 一般來說，身分識別是由密碼編譯作業證明，使用金鑰只有使用者知道 (如同公開金鑰加密) 或共用金鑰。 驗證交換的伺服器端會使用已知的密碼編譯金鑰比較簽署的資料，來驗證該驗證嘗試。

在安全的集中位置儲存密碼編譯金鑰，可以擴充和管理驗證程序。 Active Directory 是儲存身分識別資訊的建議和預設技術，其中包括使用者認證的密碼編譯金鑰。 預設的 NTLM 與 Kerberos 實作需要 Active Directory。

驗證技術的範圍從簡單的登入到作業系統或登入服務或應用程式，根據只有使用者知道的專案（例如密碼），將使用者識別為使用使用者 has'such 為權杖、公開金鑰憑證、圖片或生物特性的功能，這是更強大的安全性機制。 在商業環境中，使用者可能會在位於單一位置或跨多個位置的多種類型的伺服器上存取多個應用程式。 基於上述原因，驗證必須支援其他平台與其他 Windows 作業系統的環境。

## <a name="authentication-and-authorization-a-travel-analogy"></a>驗證和授權：旅遊比喻
旅遊比喻有助於說明驗證的運作方式。 有幾個準備工作通常是開始旅程的必要步驟。 出差人員必須向其主機授權單位證明其真正的身分識別。 這項證明可以是公民、生日、個人憑證、相片或主機國家/地區法律所需的證明。 出差者的身分識別是由 passport 的發佈來驗證，這類似于組織所發行和管理的系統帳戶--安全性主體。 Passport 和預定的目的地是根據政府機關所發行的一組規則和規定。

**旅程**

當出差人員抵達國際邊界時，border guard 會要求認證，而旅行人員則會出示其 passport。 此程式為雙折迭：

-   此防護會驗證 passport，方法是確認它是由本機政府信任 (信任的安全性授權單位所簽發，而且至少要發出護照) ，並確認 passport 尚未修改。

-   此防護會藉由驗證臉部是否符合 passport 上的人臉，以及其他必要的認證是否正確，來驗證出差者。

如果 passport 證明有效，而出差者證明是其擁有者，驗證就會成功，而且可以在整個邊界中允許出差的存取。

安全性授權單位之間的可轉移信任是驗證的基礎;在國際邊界進行的驗證類型是以信任為基礎。 當地政府不知道出差，但是它信任主機政府的工作。 當主機政府機構發行 passport 時，就不知道旅行了。 它信任簽發出生憑證或其他檔的代理商。 簽發出生憑證的機構，又信任簽署憑證的醫師。 醫師會目睹旅行者的生日，並透過身分識別的直接證明來標記憑證，在此情況下，新生兒的使用量。 透過受信任的媒介以這種方式傳輸的信任是可轉移的。

轉移信任是 Windows 用戶端/伺服器架構中網路安全性的基礎。 信任關係會在一組網域（例如域樹）中流動，並形成網域與信任該網域的所有網域之間的關聯性。 例如，如果網域 A 具有網域 B 的可轉移信任，而網域 B 信任網域 C，則網域 A 信任網域 C。

驗證與授權之間的差異。 有了驗證，系統證明您是您所說的。 有了授權，系統就會驗證您是否有權執行您想要執行的動作。 若要將框線與下一個步驟相類似，只需驗證出差者是否為有效護照的適當擁有者，就不一定會授權出差者輸入國家/地區。 特定國家/地區的居民可以輸入另一個國家/地區，只要在輸入的國家/地區為該特定國家/地區的所有公民授與無限制的許可權即可。

同樣地，您可以將特定網域許可權的所有使用者授與存取資源。 屬於該網域的任何使用者都可以存取該資源，就像加拿大一樣，美國公民也會進入加拿大。 不過，嘗試輸入巴西或印度的美國公民發現他們無法只透過出示護照來輸入那些國家/地區，因為這兩個國家/地區都需要造訪美國公民來擁有有效的簽證。 因此，驗證不保證能夠存取資源或授權以使用資源。

## <a name="credentials"></a>認證
Passport 和可能相關的 visas 是用於出差的已接受認證。 不過，這些認證可能不會讓出差人員輸入或存取某個國家/地區內的所有資源。 例如，參與會議需要其他認證。 在 Windows 中，您可以管理認證，讓帳戶持有者能夠透過網路存取資源，而不必重複提供其認證。 這種類型的存取可讓使用者一次通過驗證，以存取他們已獲授權使用的所有應用程式和資料來源，而不需要輸入其他帳戶識別碼或密碼。 Windows 平臺藉由在作業系統的本地安全機構 (LSA) 以本機方式快取使用者認證，讓您能夠使用單一使用者身分識別， (由網路上的 Active Directory) 維護。 當使用者登入網域時，Windows 驗證套件會在驗證網路資源的認證時，以透明的方式使用認證來提供單一登入。 如需認證的詳細資訊，請參閱[Windows 驗證中](credentials-processes-in-windows-authentication.md)的認證處理常式。

出差的多重要素驗證形式可能需要攜帶和呈現多份檔，以驗證他的身分識別，例如 passport 和會議註冊資訊。 Windows 透過智慧卡、虛擬智慧卡和生物識別技術來實行此表單或驗證。

## <a name="security-principals-and-accounts"></a>安全性主體和帳戶
在 Windows 中，任何可以起始動作的使用者、服務、群組或電腦都是安全性主體。 安全性主體具有可在電腦本機或以網域為基礎的帳戶。 例如，即使沒有任何人為登入，Windows 用戶端已加入網域的電腦也可以與網域控制站通訊來參與網路網域。 若要起始通訊，電腦在網域中必須有使用中的帳戶。 在接受來自電腦的通訊之前，網域控制站上的本地安全機構會驗證電腦的身分識別，然後定義電腦的安全性內容，就像針對人類安全性主體所做的一樣。 此安全性內容會定義特定電腦或網路上的使用者、服務、群組或電腦上的使用者或服務的身分識別和功能。 例如，它會定義可存取的資源（例如檔案共用或印表機），以及可由使用者、服務或電腦在該資源上執行的動作，例如讀取、寫入或修改。 如需詳細資訊，請參閱[安全性主體](https://technet.microsoft.com/itpro/windows/keep-secure/security-principals)。

帳戶是識別 claimant （使用者或服務）要求存取權或資源的一種方式。 持有擁有正版 passport 的旅行者擁有具有主機國家/地區的帳戶。 使用者、使用者群組、物件和服務都可以有個別的帳戶或共用帳戶。 帳戶可以是群組的成員，而且可以指派特定的權利和許可權。 帳戶可以限制為本機電腦、工作組、網路，或被指派網域的成員資格。

內建帳戶和其為成員的安全性群組會定義在每個 Windows 版本上。 藉由使用安全性群組，您可以將相同的安全性許可權指派給已成功驗證的許多使用者，以簡化存取管理。 發出護照的規則可能會要求將出差指派給特定群組，例如 business、旅遊或政府。 此程式可確保群組的所有成員都具有一致的安全性許可權。 藉由使用安全性群組來指派許可權，表示資源的存取控制仍然不變，而且易於管理和審核。 藉由視需要新增和移除需要來自適當安全性群組存取權的使用者，您可以將存取控制清單變更的頻率降到最低 (Acl) 。

獨立受管理的服務帳戶和虛擬帳戶是在 Windows Server 2008 R2 和 Windows 7 中引進，以提供必要的應用程式（例如 Microsoft Exchange Server 和 Internet Information Services (IIS) ），並隔離自己的網域帳戶，同時不需要系統管理員手動管理服務主體名稱 (SPN) 和這些帳戶的認證。 群組受管理的服務帳戶是在 Windows Server 2012 中引進，並在網域內提供相同的功能，但也會在多部伺服器上擴充該功能。 當連線到伺服器陣列上託管的服務時，例如「網路負載平衡」，支援相互驗證的驗證通訊協定會要求服務的所有執行個體都使用相同的主體。

如需帳戶的詳細資訊，請參閱：

-   [Active Directory 帳戶](https://technet.microsoft.com/itpro/windows/keep-secure/active-directory-accounts)

-   [Active Directory 安全性群組](https://technet.microsoft.com/itpro/windows/keep-secure/active-directory-security-groups)

-   [本機帳戶](https://technet.microsoft.com/itpro/windows/keep-bastion.local-accounts)

-   [Microsoft 帳戶](https://technet.microsoft.com/itpro/windows/keep-secure/microsoft-accounts)

-   [服務帳戶](https://technet.microsoft.com/itpro/windows/keep-secure/service-accounts)

-   [特殊身分](https://technet.microsoft.com/itpro/windows/keep-secure/special-identities)

## <a name="delegated-authentication"></a>委派的驗證
若要使用旅遊比喻，國家（地區）可能會對官方政府委派的所有成員發出相同的存取權，只要委派知名就可以了。 此委派可讓一個成員在另一個成員的授權單位上作用。 在 Windows 中，當網路服務接受來自使用者的驗證要求，並採用該使用者的身分識別來起始第二個網路服務的新連線時，就會進行委派的驗證。 若要支援委派的驗證，您必須建立前端或第一層伺服器（例如網頁伺服器），負責處理負責儲存資訊的用戶端驗證要求和後端或多層式伺服器（例如大型資料庫）。 您可以委派許可權來設定委派驗證給組織中的使用者，以降低系統管理員的系統管理負載。

藉由將服務或電腦建立為受信任的委派，您可以讓服務或電腦完成委派的驗證、接收提出要求之使用者的票證，然後存取該使用者的資訊。 此模型會將後端伺服器上的資料存取限制為使用正確的存取控制權杖出示認證的使用者或服務。 此外，它還允許存取這些後端資源。 藉由要求透過委派給伺服器以代表用戶端使用的認證來存取所有資料，您可以確保伺服器無法遭到入侵，而且您可以存取儲存在其他伺服器上的機密資訊。 委派驗證適用于設計成跨多部電腦使用單一登入功能的多層式應用程式。

### <a name="authentication-in-trust-relationships-between-domains"></a>網域之間的信任關係中的驗證
擁有多個網域的大多陣列織都有合法的需求，可以讓使用者存取位於不同網域中的共用資源，就像是允許出差旅行到國家/地區的不同區域一樣。 控制此存取需要一個網域中的使用者也可以通過驗證，並獲得授權使用另一個網域中的資源。 若要在不同網域中的用戶端與伺服器之間提供驗證和授權功能，這兩個網域之間必須有信任關係。 信任是安全 Active Directory 通訊所使用的基礎技術，而且是 Windows Server 網路架構的有機安全性元件。

當兩個網域之間存在信任時，每個網域的驗證機制會信任來自另一個網域的驗證。 信任說明提供對資源網域中共用資源的控制存取權（信任網域），方法是驗證傳入驗證要求是否來自受信任的授權單位--受信任的網域。 如此一來，信任就會作為橋接器，讓只有經過驗證的驗證要求可在網域之間移動。

特定信任通過驗證要求的方式，取決於其設定方式。 信任關係可以是單向的，方法是提供來自受信任網域的存取權給信任網域中的資源，或將存取權提供給另一個網域中的資源，藉此雙向。 信任也是不可轉移的，在這種情況下，信任只存在於兩個信任夥伴網域之間，或可轉移，在此情況下，信任會自動延伸到任何夥伴信任的其他任何網域。

如需信任運作方式的相關資訊，請參閱[網域和樹系信任的運作方式](https://technet.microsoft.com/library/cc773178(v=ws.10).aspx)。

### <a name="protocol-transition"></a>通訊協定轉換
通訊協定轉換可協助應用程式設計人員，讓應用程式在使用者驗證層支援不同的驗證機制，並在後續的應用層中切換至安全性功能的 Kerberos 通訊協定，例如相互驗證和限制委派。

如需通訊協定轉換的詳細資訊，請參閱[Kerberos 通訊協定轉換和限制委派](https://technet.microsoft.com/library/cc758097(v=ws.10).aspx)。

### <a name="constrained-delegation"></a>限制委派
限制委派讓系統管理員能夠指定並強制執行應用程式信任界限，方法是限制應用程式服務可以代表使用者採取行動的範圍。 您可以指定特定服務，讓受信任委派的電腦可以要求資源。 限制服務授權許可權的彈性有助於提升應用程式安全性的設計，方法是降低不受信任服務危害的機會。

如需限制委派的詳細資訊，請參閱[Kerberos 限制委派總覽](../kerberos/kerberos-constrained-delegation-overview.md)。

## <a name="additional-references"></a>其他參考資料
[Windows 登入和驗證技術總覽](https://technet.microsoft.com/library/dn269029.aspx)


