---
title: 更新作業
description: Windows Server Update Service （WSUS）主題-如何管理更新，包括核准程式
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-wsus
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4cb7ff54-3014-4e91-842a-a7b831ea59ff
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 7121f6303bef48486720d4cdca4582fd897467c4
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/27/2019
ms.locfileid: "71361479"
---
# <a name="updates-operations"></a>更新作業

>適用於：Windows Server （半年通道）、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

將更新同步處理至您的 WSUS 伺服器後，系統會自動掃描以取得與伺服器用戶端電腦的相關性。 不過，您必須先核准更新，才能將它們部署到網路上的電腦。 當您核准更新時，基本上會告訴 WSUS 該如何處理它（您的選擇會**安裝**或**拒絕**新的更新）。 您可以核准**所有電腦**群組或子群組的更新。 如果您未核准更新，其核准狀態會維持為 [**未核准**]，而您的 WSUS 伺服器可讓用戶端評估是否需要更新。

如果您的 WSUS 伺服器是在「複本」模式下執行，您就無法核准 WSUS 伺服器上的更新。 如需有關複本模式的詳細資訊，請參閱執行[WSUS 複本模式](running-wsus-replica-mode.md)。

## <a name="approving-updates"></a>核准更新
您可以針對 WSUS 網路中的所有電腦或不同的電腦群組，核准安裝更新。 核准更新之後，您可以執行下列一或多項操作：

-   將此核准套用至子群組（如果有的話）。

-   設定自動安裝的期限。 當您選取此選項時，您可以設定特定的時間和日期來安裝更新，並覆寫用戶端電腦上的任何設定。 此外，如果您想要立即核准更新（要在下次用戶端電腦連線到 WSUS 伺服器時安裝），您可以指定期限的過去日期。

-   移除已安裝的更新（如果該更新支援移除）。

您應該牢記兩個重要的考慮：

-   首先，如果需要使用者輸入（例如，指定與更新相關的設定），您就無法設定自動安裝更新的期限。 若要判斷更新是否需要使用者輸入，請查看 **[更新] 頁面上**所顯示更新內容中的 [**可能要求使用者輸入**] 欄位。 另請檢查 [**核准更新**] 方塊中的訊息，指出「**選取的更新需要使用者輸入，且不支援安裝期限**」。

-   如果 WSUS 伺服器元件有更新，在 WSUS 更新核准之前，您將無法核准用戶端系統的其他更新。 您會在 [核准更新] 對話方塊中看到此警告訊息：「有 WSUS 更新尚未核准。 核准此更新之前，您應該先核准 WSUS 更新。」 在此情況下，您應該按一下 [WSUS 更新] 節點，並確定該視圖中的所有更新都已核准，然後才返回一般更新。

#### <a name="to-approve-updates"></a>若要核准更新

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  在更新清單中，選取您要核准的更新，並以滑鼠右鍵按一下（或移至 [動作] 窗格），然後在 [核准更新] 對話方塊中，選取您要核准更新的電腦群組，然後按一下其旁邊的箭號。

3.  選取 [**已核准安裝**]，然後按一下 [**核准**]。

4.  [**核准進度**] 視窗會顯示完成核准的進度。 當程式完成時，[**關閉**] 按鈕隨即出現。 按一下 **關閉**。

5.  您可以在更新上按一下滑鼠右鍵，選取適當的電腦群組，按一下旁邊的箭號，然後按一下 [**期限**]，來選取期限。

    -   您可以選取其中一個標準期限（一周、兩周、一個月），也可以按一下 [**自訂**] 來指定日期和時間。

    -   如果您想要在用戶端電腦連線到伺服器時立即安裝更新，請按一下 [**自訂**]，然後將日期和時間設定為目前的日期和時間，或過去一次。

#### <a name="to-approve-multiple-updates"></a>核准多個更新

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  若要選取多個連續的更新，請在選取更新時按**shift**鍵。 若要選取多個不連續的更新，請在選取更新時按住**CTRL**鍵。

3.  以滑鼠右鍵按一下選取專案，然後按一下 [**核准**]。 [**核准更新**] 對話方塊隨即開啟，並將**核准狀態**設定為 [**保留現有的核准**]，並停用 [**確定]** 按鈕。

4.  您可以變更個別群組的核准，但這麼做並不會影響子核准。 選取您要變更核准的群組，然後按一下左邊的箭號。 在快捷方式功能表中，按一下 [**已核准安裝**]。

5.  所選群組的核准會變更為 [**安裝**]。 如果有任何子群組，他們的核准仍會保持**現有的核准**狀態。 若要變更子群組的核准，請按一下群組，然後按一下左邊的箭號。 在快捷方式功能表中，按一下 [套用**至子**系]。

6.  若要設定特定子系從父系繼承其所有核准，請按一下子系，然後按一下左邊的箭號。 在快捷方式功能表中，按一下 [**與父系相同**]。 如果您將子系設為 [繼承核准]，但未變更父核准，則子系會繼承父系的現有核准。

7.  如果您想要變更所有子系的核准行為，請核准**所有電腦**，然後選擇 [套用**至子**系]。

8.  設定所有核准之後，請按一下 **[確定]** 。 [**核准進度**] 視窗會顯示完成核准的進度。 當程式完成時，[**關閉**] 按鈕將可供使用。 按一下 **關閉**。

## <a name="declining-updates"></a>拒絕更新
如果您選取此選項，則會從預設的可用更新清單中移除更新，而且 WSUS 伺服器將不會針對評估或安裝提供更新給用戶端。 您可以選取更新或更新群組，然後以滑鼠右鍵按一下或前往 [動作] 窗格，來到達此選項。 只有當您在 [ **View**] 下指定更新清單的篩選器時，如果您在核准清單中選取 [已**拒絕**]，拒絕的更新才會出現在更新清單中。

#### <a name="to-decline-updates"></a>拒絕更新

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  在更新清單中，選取您要拒絕的一個或多個更新。

3.  選取 [**拒絕**]，然後在確認訊息上按一下 **[是]** 。

## <a name="cleaning-up-declined-updates"></a>清除已拒絕的更新
已拒絕的更新會繼續使用一些 WSUS 伺服器資源。 您應該執行 [伺服器清理嚮導]，從 WSUS 資料庫中移除已拒絕的更新。 請參閱：[[伺服器清理嚮導]](the-server-cleanup-wizard.md)，以取得其他詳細資料。

## <a name="reinstating-declined-updates"></a>恢復已拒絕的更新
拒絕更新之後，您仍然可以將它復原。

#### <a name="to-reinstate-declined-updates"></a>若要恢復已拒絕的更新

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  將**核准**變更為**拒絕**，**然後按一下 [** 重新整理]。 已拒絕的更新清單會載入。

3.  在更新清單中，選取您要恢復的一個或多個已拒絕的更新。

4.  若要恢復特定的更新，請在更新上按一下滑鼠右鍵，然後選取 [**核准**]。 在 [**核准更新**] 對話方塊中，按一下 **[確定]** 以重新套用預設「未核准」的核准狀態。 更新會顯示在清單中，而**不是 [已核准**] 而不是 [已拒絕]。

使用 WSUS 伺服器清理嚮導清除已拒絕的更新之後，它將會從 WSUS 伺服器中刪除，而且不會再出現在 [所有更新] 視圖中。 您可以從 Microsoft Update 目錄重新匯入已拒絕、已清除的更新。 如需其他資訊，請參閱[WSUS 和類別目錄網站](wsus-and-the-catalog-site.md)。

## <a name="change-an-approved-update-to-not-approved"></a>將核准的更新變更為未核准
如果更新已通過核准，而您目前決定不安裝，而想要在未來儲存它，您可以將更新變更為 [未核准] 的狀態。 這表示更新會保留在預設的可用更新清單中，而且會報告用戶端合規性，但不會安裝在用戶端上。

#### <a name="to-change-an-update-from-approved-to-not-approved"></a>若要將更新從核准變更為未核准

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  在更新清單中，選取您要變更為 [未核准] 的一個或多個已核准的更新。

3.  在快捷方式功能表或 [**動作**] 窗格中，選取 [**未核准**]，然後在確認訊息上按一下 **[是]** 。

## <a name="approving-updates-for-removal"></a>核准移除的更新
您可以核准要移除的更新（也就是卸載已安裝的更新）。 只有在已安裝更新並支援移除時，才可以使用此選項。 您可以指定要卸載更新的期限，或指定期限的過去日期（如果您想要立即移除更新（下一次用戶端電腦連線到 WSUS 伺服器時）。

值得一提的是，並非所有更新都支援移除。 您可以選取個別的更新並查看 [**詳細資料**] 窗格，以查看更新是否支援移除。 **在 [** **其他詳細資料**] 底下，您會看到 [卸載] 分類。 如果更新無法透過 WSUS 移除，在某些情況下，可以使用 [**控制台**] 中的 [**新增或移除程式**] 來移除。

#### <a name="to-approve-updates-for-removal"></a>核准要移除的更新

1.  在 WSUS 管理主控台中，按一下 [**更新**]，然後按一下 [**所有更新**]。

2.  在更新清單中，選取您想要核准移除的一或多個更新，並以滑鼠右鍵按一下它們（或移至 [**動作**] 窗格）。

3.  在 [**核准更新**] 對話方塊中，選取您要從中移除更新的電腦群組，然後按一下旁邊的箭號。

4.  選取 [**已核准移除**]，然後按一下 [**移除**] 按鈕。

5.  在移除核准完成後，您可以在更新之後按一下滑鼠右鍵，選取適當的電腦群組，然後按一下旁邊的箭號，以選取期限。 然後選取 [**期限**]。 您可以選取其中一個標準期限（一周、兩周、一個月），或按一下 [**自訂**] 以選取特定的日期和時間。

6.  如果您想要在用戶端電腦連線到伺服器時立即移除更新，請按一下 [**自訂**]，然後設定過去的日期。

## <a name="approving-updates-automatically"></a>自動核准更新
您可以設定 WSUS 伺服器，以自動核准特定的更新。 您也可以在現有的更新可供使用時，指定自動核准修訂。 這個選項預設會選取。 修訂是已進行變更的更新版本（例如，它可能已過期，或其適用性規則可能已變更）。 如果您未選擇自動核准修改後的更新版本，WSUS 會使用較舊的版本，而您必須手動核准更新修訂。

您可以建立您的 WSUS 伺服器在同步處理期間將自動套用的規則。 您可以指定要自動核准安裝的更新、更新分類、依產品，以及依電腦群組。 這只適用于新的更新，而不是修訂的更新。 您也可以指定更新核准期限，這會設定已核准的更新在期限之前的天數，以及特定的供應專案時間。 這些設定可在 [**選項**] 窗格的 [**自動核准**] 下取得。

#### <a name="to-automatically-approve-updates"></a>自動核准更新

1.  在 WSUS 管理主控台中，按一下 [**選項**]，然後按一下 [**自動核准**]。

2.  在 [更新規則] 中，按一下 [新增規則]。

3.  在 [**步驟1：選取屬性**] 下的 [**新增規則**] 對話方塊中，選取是否要**在更新為特定分類時**使用，或**更新為特定產品**（或兩者）做為準則。 （選擇性）選取是否要設定核准的**期限**。

4.  在 [**步驟2：編輯內容**] 中，按一下加底線的屬性，以選取您想要自動核准的分類、產品和電腦群組（如果適用）。 （選擇性）選擇 [更新核准期限日期和時間]。

5.  在**步驟 3:指定 [名稱**] 方塊中，輸入規則的唯一名稱。

6.  按一下 [確定]。

自動核准規則不會套用到需要在伺服器上尚未接受的使用者授權合約（EULA）的更新。 如果您發現套用自動核准規則並不會核准所有相關的更新，您應該手動核准這些更新。

## <a name="automatically-approving-revisions-to-updates-and-declining-expired-updates"></a>自動核准更新和拒絕過期更新的修訂
[選項] 窗格的 [自動核准] 區段包含預設選項，可自動核准已核准更新的修訂。 您也可以將 WSUS 伺服器設定為自動拒絕過期的更新。 如果您選擇不自動核准修改過的更新版本，您的 WSUS 伺服器會使用較舊的修訂，而且您必須手動核准更新修訂。

> [!NOTE]
> 修訂是已變更的更新版本（例如，它可能已過期或已更新的適用性規則）。

#### <a name="to-automatically-approve-revisions-to-updates-and-decline-expired-updates"></a>自動核准更新的修訂並拒絕過期的更新

1.  在 WSUS 管理主控台中，按一下 [**選項**]，然後按一下 [**自動核准**]。

2.  在 [ **Advanced** ] 索引標籤上，確定已選取 [**已核准更新的新修訂**] 和 [**當新修訂導致到期時自動拒絕更新**]。

3.  按一下 [確定]。

    > [!NOTE]
    > 保留這些選項的預設值，可讓您在 WSUS 網路上維持良好的效能。 如果您不想要自動拒絕過期的更新，請務必定期以手動方式予以拒絕。

## <a name="automatically-declining-superseded-updates"></a>自動拒絕被取代的更新
當您核准新的更新來取代自動核准的現有更新時，一旦安裝較新的更新，已取代的更新就會變成「不適用」到電腦或裝置。 您可以在 WSUS 主控台中確認更新不適用於所有電腦。 萬一發生這種情況，就可以安全地拒絕更新。 此外，當您執行 [WSUS 伺服器清理嚮導] 時，可能會自動拒絕更新。

若要搜尋已取代的更新，您可以在 [所有更新] 視圖中選取 [已取代] 旗標資料行，然後在該資料行上進行排序。 其中將會有四個群組：

-   從未被取代的更新（空白圖示）。

-   已被取代，但從未取代過其他更新的更新（底部有藍色方形的圖示）。

-   已取代並已取代其他更新的更新（中間有藍色正方形的圖示）。

-   已取代其他更新的更新（頂端有藍色方塊的圖示）。

Windows Server Update Services 中沒有任何功能會在核准較新的更新時自動拒絕被取代的更新。 建議您先將核准設定為「未核准」，然後使用 [伺服器清理嚮導]，在滿足所有相關條件時自動拒絕更新。 如需詳細資訊，請參閱：[伺服器清理嚮導](the-server-cleanup-wizard.md)。

## <a name="approving-superseding-or-superseded-updates"></a>核准取代或被取代的更新
一般而言，取代其他更新的更新會執行下列一或多項操作：

-   增強、改進或新增至由一個或多個先前發行之更新所提供的修正程式。

-   改善更新檔案套件的效率，如果已核准安裝更新，則會將它安裝在用戶端電腦上。 例如，被取代的更新可能包含不再與新更新所支援的修正程式或作業系統相關的檔案，因此這些檔案不會包含在取代更新的檔案套件中。

-   更新較新版本的作業系統。 也請務必注意，取代更新可能不支援舊版作業系統。

相反地，另一個更新所取代的更新會執行下列動作：

-   修正與取代它的更新類似的問題。 不過，取代它的更新可能會增強被取代的更新所提供的修正程式。

-   更新舊版的作業系統。 在某些情況下，取代更新不會再更新這些版本的作業系統。

在個別更新的詳細資料窗格中，頂端的資訊圖示和訊息會指出它會取代或被其他更新取代。 此外，您可以藉由查看**取代此**更新的更新，以及在 [**其他詳細資料**] 區段 **中的更新專案所取代的更新，來判斷哪些更新會取代或被更新取代。屬性**。 更新的詳細資料窗格會顯示在更新清單下方。

WSUS 不會自動拒絕被取代的更新，建議您不要假設已取代的更新應該被拒絕，而改用新的取代更新。 在拒絕被取代的更新之前，請確定您的任何用戶端電腦都已不再需要它。 以下是您可能需要安裝被取代更新的案例範例：

-   如果取代更新只支援較新版本的作業系統，而您的某些用戶端電腦執行的是舊版的作業系統。

-   如果取代更新的適用性比它所取代的更新更受限制，這會使其不適用於某些用戶端電腦。

-   如果更新因為新的變更而不再取代先前發行的更新。 您可以透過每個版本的變更，更新不再取代先前在舊版中取代的更新。 在此案例中，您仍然會看到有關已被取代之更新的訊息，即使取代它的更新已被不是的更新所取代。


