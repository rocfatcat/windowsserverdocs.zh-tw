---
title: copy
description: 複製命令的參考文章，可將一或多個檔案從一個位置複製到另一個位置。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 9624d4a1-349a-4693-ad00-1d1d4e59e9ac
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 6ea742ab8fce296a88c8c9e6a41262c7aef88813
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/02/2020
ms.locfileid: "85928897"
---
# <a name="copy"></a>copy

將一個或多個檔案從一個位置複製到另一個位置。

> [!NOTE]
> 您也可以從修復主控台使用具有不同參數的**copy**命令。 如需有關修復主控台的詳細資訊，請參閱[Windows 修復環境（WINDOWS RE）](https://docs.microsoft.com/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference)。

## <a name="syntax"></a>語法

```
copy [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] <source> [/a | /b] [+<source> [/a | /b] [+ ...]] [<destination> [/a | /b]]
```

### <a name="parameters"></a>參數

| 參數 | 說明 |
| --------- | ----------- |
| /d | 允許複製加密的檔案，以在目的地上儲存為解密的檔案。 |
| /v | 驗證是否已正確寫入新檔案。 |
| /n | 複製名稱超過八個字元，或副檔名超過三個字元的檔案時，會使用簡短的檔案名（如果有的話）。 |
| /y | 隱藏提示確認您想要覆寫現有的目的檔案。 |
| /-y | 提示您確認是否要覆寫現有的目的檔案。 |
| /z | 複製可重新開機模式的網路檔案。 |
| /a | 表示 ASCII 文字檔。 |
| /b | 表示二進位檔案。 |
| `<source>` | 必要。 指定您要從中複製檔案或一組檔案的位置。 *來源*可以包含磁碟機號和冒號、目錄名稱、檔案名或這些的組合。 |
| `<destination>` | 必要。 指定您要複製檔案或一組檔案的目標位置。 *目的地*可以包含磁碟機號和冒號、目錄名稱、檔案名或這些的組合。 |
| /? | 在命令提示字元顯示說明。 |

#### <a name="remarks"></a>備註

- 您可以複製使用檔案結尾字元（CTRL + Z）來表示檔案結尾的 ASCII 文字檔。

- 如果 **/a**在命令列上的檔案清單前面或後面，則會套用至所有列出的檔案，直到**複製**遇到 **/b**為止。 在此情況下， **/b**會套用至位於 **/b**前面的檔案。

    **/A**的效果取決於其在命令列字串中的位置：
      - 如果 **/a**遵循*來源*， **copy**命令會將檔案視為 ASCII 檔案，並複製第一個檔案結尾字元（CTRL + Z）之前的資料。
      - 如果 **/a**跟隨*目的地*， **copy**命令會將檔案結尾字元（CTRL + Z）新增為檔案的最後一個字元。

- 如果 **/b**會指示命令直譯器讀取目錄中檔案大小所指定的位元組數目。 **/b**是**copy**的預設值，除非**copy**結合了檔案。

- 如果**在**命令列上的檔案清單前面或後面接著，它會套用至所有列出的檔案，直到**複製**遇到 **/a**為止。 在此情況下， **/a**會套用至 **/a**前面的檔案。

    **/B**的效果取決於它在命令列字串中的位置：-如果 **/b**跟隨*來源*， **copy**命令會複製整個檔案，包括任何檔案結尾字元（CTRL + Z）。
        -如果 **/b**跟隨*目的地*， **copy**命令就不會加入檔案結尾字元（CTRL + Z）。

- 如果無法驗證寫入作業，則會出現錯誤訊息。 雖然**copy**命令很少發生記錄錯誤，但是您可以使用 **/v**來驗證是否已正確記錄重要資料。 **/V**命令列選項也會減緩**複製**命令的速度，因為必須檢查磁片上所記錄的每個磁區。

- 如果在**COPYCMD**環境變數中預設為 **/y** ，您可以在命令列中使用 **/-y**來覆寫此設定。 根據預設，除非在批次腳本中執行**copy**命令，否則當您取代此設定時，系統會提示您。

- 若要附加檔案，請針對 [*目的地*] 指定單一檔案，但為 [*來源*] 輸入多個檔案（使用萬用字元或*file1* + *file2* + *file3*格式）。

- 如果在複製階段期間中斷連接（例如，如果伺服器離線中斷連線），您可以在重新建立連接之後，使用**copy/z**繼續。 **/Z**選項也會顯示針對每個檔案完成的複製作業百分比。

- 您可以將裝置名稱替換成一或多個出現在*來源*或*目的地的位置*。

- 如果*目的地*是裝置（例如 Com1 或 Lpt1）， **/b**選項會以二進位模式將資料複製到裝置。 在二進位模式中， **copy/b**會將所有的字元（包括像是 Ctrl + C、Ctrl + S、Ctrl + Z 和 ENTER 等特殊字元）複製到裝置的資料。 不過，如果您省略 **/b**，資料會以 ASCII 模式複製到裝置。 在 ASCII 模式中，特殊字元可能會在複製過程中合併檔案。

- 如果您未指定目的地檔案，則會使用與原始檔案相同的名稱、修改日期和修改時間來建立複本。 新的複本會儲存在目前磁片磁碟機的目前目錄中。 如果原始程式檔位於目前的磁片磁碟機上，且您未指定不同的磁片磁碟機或目錄作為目的地檔案， **copy**命令就會停止，並顯示下列錯誤訊息：

    ```
    File cannot be copied onto itself
    0 File(s) copied
    ```

- 如果您在 [*來源*] 中指定多個檔案， **copy**命令會使用 [*目的地*] 中指定的檔案名，將它們全部結合成單一檔案。 除非您使用 **/b**選項，否則**copy**命令會假設合併的檔案是 ASCII 檔案。

- 若要複製長度為0個位元組的檔案，或複製目錄的所有檔案和子目錄，請使用[xcopy 命令](xcopy.md)。

- 若要在不修改檔案的情況下將目前的時間和日期指派給檔案，請使用下列語法：

    ```
    copy /b <source> +,,
    ```

    其中逗號表示已刻意省略*目的地*參數。

## <a name="examples"></a>範例

若要將名為*memo.doc*的檔案複製到目前磁片磁碟機中的*letter.doc* ，並確定檔案結尾字元（CTRL + Z）位於複製檔案的結尾，請輸入：

```
copy memo.doc letter.doc /a
```

若*要從目前*的磁片磁碟機和目錄將名為的檔案複製到位於磁片磁碟機*C 的現有*目錄，請輸入：

```
copy robin.typ c:\birds
```

> [!NOTE]
> 如果 [*鳥瞰*] 目錄不存在，則會將檔案資源類型的*typ*複製到名為 [*鳥*] 的檔案中，該檔案位於磁片磁碟機 C 的根目錄中。

若要結合位於目前目錄中的*Mar89 rpt*、 *Apr89*和*May89*，並將它們放在名為*Report*的檔案中（也在目前的目錄中），請輸入：

```
copy mar89.rpt + apr89.rpt + may89.rpt Report
```

> [!NOTE]
> 如果您合併檔案， **copy**命令會將目的地檔案標示為目前的日期和時間。 如果您省略*目的地*，檔案會合並並儲存在清單中的第一個檔案名稱底下。

若要在*報表*中合併所有檔案，當名為*report*的檔案已經存在時，請輸入：

```
copy report + mar89.rpt + apr89.rpt + may89.rpt
```

若要將目前目錄中副檔名為 .txt 的所有檔案合併成名為*Combined.doc*的單一檔案，請輸入：

```
copy *.txt Combined.doc
```

若要使用萬用字元將數個二進位檔案合併成一個檔案，請包含 **/b**。 這可防止 Windows 將 CTRL + Z 視為檔案結尾字元。 例如，輸入：

```
copy /b *.exe Combined.exe
```

> [!CAUTION]
> 如果您合併二進位檔案，產生的檔案可能會因為內部格式而無法使用。

- 將副檔名為 .txt 的每個檔案與對應的 ref 檔案結合，會建立具有相同檔案名但副檔名為 .doc 的檔案。 **Copy**命令會將*file1.txt*和*file1*結合成表單*file1.doc*，然後命令會將*file2.txt*與*file2*結合成表單*file2.doc*等等。 例如，輸入：

```
copy *.txt + *.ref *.doc
```

若要結合所有副檔名為 .txt 的檔案，然後將所有副檔名為. ref 的檔案結合成一個名為*Combined.doc*的檔案，請輸入：

```
copy *.txt + *.ref Combined.doc
```

## <a name="additional-references"></a>其他參考資料

- [命令列語法關鍵](command-line-syntax-key.md)

- [xcopy 命令](xcopy.md)
