---
title: 格式
ms.prod: windows-server-threshold
manager: dongill
ms.author: JGerend
ms.technology: storage
ms.topic: article
ms.assetid: 51ec7423-9a01-4219-868a-25d69cdcc832
author: JasonGerend
ms.date: 10/16/2017
ms.openlocfilehash: 1af340f4612015ede3fee659c9662955df9aa578
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/31/2019
ms.locfileid: "66439270"
---
# <a name="format"></a>格式
> 適用於：Windows 10、windows Server 2016

格式化磁碟，以接受 Windows 檔案。

如需如何使用此命令的範例，請參閱[範例](#BKMK_examples)。

## <a name="syntax"></a>語法

```
format <Volume> [/fs:{FAT|FAT32|NTFS}] [/v:<Label>] [/q] [/a:<UnitSize>] [/c] [/x] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/f:<Size>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/t:<Tracks> /n:<Sectors>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/p:<Passes>]
format <Volume> [/q]
```

## <a name="parameters"></a>參數

|   參數    |                                                                                                                                                                                                                    描述                                                                                                                                                                                                                     |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   \<磁碟區 >    |                                                                                         指定的掛接點、 磁碟區名稱或磁碟機代號 （後面接著冒號） 您想要格式化的磁碟機。 如果您未指定任何下列的命令列選項**格式**使用磁碟區類型來判斷磁碟的預設格式。                                                                                         |
|    /fs: {FAT    |                                                                                                                                                                                                                       FAT32                                                                                                                                                                                                                        |
|  /v:\<標籤 >   |                           指定磁碟區標籤。 如果您省略 **/v**命令列選項，或使用它而不指定磁碟區標籤**格式**會提示您輸入的磁碟區標籤的格式設定完成之後。 使用語法 **/v:** 以避免出現磁碟區標籤的提示。 如果您使用單一 **format** 命令來格式化多個磁碟，即會為所有磁碟指定相同的磁碟區標籤。                            |
| /a:\<UnitSize > | 指定要使用 FAT、 FAT32 或 NTFS 磁碟區上的配置單位大小。 如果您未指定 *UnitSize*，即會根據磁碟區大小進行選擇。 針對一般用途，強烈建議使用預設設定。 下列清單顯示適用於 NTFS、FAT 及 FAT32 *UnitSize* 的有效值：</br>512</br>1024</br>2048</br>4096</br>8192</br>16 K</br>32 K</br>64 K</br>FAT 和 FAT32 也針對大於 512 位元組的磁區大小支援 128 K 和 256 K。 |
|       /q       |                                                       執行快速格式化。 刪除的檔案表格和先前已格式化的磁碟區的根目錄，但不會損壞的區域中執行的磁區的磁區掃描。 您應該使用 **/q**只能格式化的命令列選項先前格式化您知道狀況良好的磁碟區。 請注意， **/q** 會覆寫 **/p**。                                                       |
|   /f:\<大小 >   |                                                         指定要格式化的磁碟片大小。 可能的話，請使用此命令列選項，而非 **/t**並 **/n**命令列選項。 Windows 接受下列大小值：</br>-   1440 或 1440k 或 1440kb</br>-   1.44 或 1.44m 或 1.44mb</br>-1.44 MB、 雙面、 4-tuple 密度、 3.5 吋磁片                                                         |
|  /t:\<追蹤 >  |                                                    指定磁碟上的磁軌數量。 可能的話，請使用 **/f**命令列選項。 如果您使用 **/t** 選項，也必須使用 **/n** 選項。 這些選項可一起提供另一個方法來指定要格式化的磁碟大小。 這個選項不能搭配 **/f** 選項使用。                                                     |
| /n:\<磁區 >  |                                                         指定每個磁軌的磁區數目。可能的話，請使用 **/f**命令列選項，而非 **/n**。 如果您使用 **/n**，也必須使用 **/t**。 這兩個選項可一起提供另一個方法來指定要格式化的磁碟大小。 這個選項不能搭配 **/f** 選項使用。                                                         |
|  /p:\<傳遞 >  |                                                                                                                                                               以指定的次數在磁碟區上的每個磁區填入零。 這個選項不能搭配 **/q** 選項使用。                                                                                                                                                                |
|       /c       |                                                                                                                                                                                     僅限 NTFS。 預設會壓縮在新磁碟區上建立的檔案。                                                                                                                                                                                      |
|       /x       |                                                                                                                                                            如有必要，會在格式化之前卸載磁碟區。 磁碟區的任何開啟控制代碼將不再有效。                                                                                                                                                            |
|       /?       |                                                                                                                                                                                                        在命令提示字元顯示說明。                                                                                                                                                                                                        |

## <a name="remarks"></a>備註

-   系統管理認證

    您必須是格式化硬碟機的系統管理員群組的成員。
-   使用**格式**

    **格式**命令會建立新的根目錄和檔案系統磁碟。 它也可以檢查磁碟上損壞的區域，並且可刪除磁碟上的所有資料。 若要能夠使用新的磁碟，您必須先使用此命令將磁碟格式化。
-   新增磁碟區標籤

    格式化磁片、 後**格式**顯示下列訊息：

    `Volume label (11 characters, ENTER for none)?`

    若要新增磁碟區標籤，輸入最多 11 個字元 （包括空格）。 如果您不想將磁碟區標籤新增至磁碟，請按 ENTER 鍵。
-   格式化硬碟

> [!NOTE]
> 您必須是 Administrators 群組的成員來格式化硬碟。

當您使用**格式**格式化硬碟，一則警告訊息會顯示下列類似的命令：
```
WARNING, ALL DATA ON NON-REMOVABLE DISK 
DRIVE x: WILL BE LOST! 
Proceed with Format (Y/N)? _ 
```
若要格式化的硬碟，按下 Y;如果您不想將磁碟格式化，按 n。
-   單位大小

    FAT 檔案系統限制不能超過 65526 群集數目。 FAT32 檔案系統限制到 65527 與 4177917 之間的叢集數目。

    大於 4096 的配置單位大小不支援 NTFS 壓縮。

> [!NOTE]
> **格式**就會立即停止處理，如果它決定在無法使用指定的叢集大小會符合先前的需求。
> -   **格式**訊息

    When formatting is complete, **format** displays messages that show the total disk space, the spaces marked as defective, and the space available for your files.
- 快速格式化

  您可以使用加速格式化程序 **/q**命令列選項。 只有當硬碟上沒有損壞的磁區時，才能使用此選項。
- 針對重新指派的磁碟機或網路磁碟機使用 **format**

  您不應該在使用 **subst** 命令準備的磁碟機上使用 **format** 命令。 您無法透過網路來格式化磁碟。
- **Format** 結束代碼

  下表列出每個結束代碼及其意義的簡短描述。  

  |結束代碼|描述|
  |---------|-----------|
  |0|格式化作業成功。|
  |1|提供的參數不正確。|
  |4|發生嚴重錯誤 （也就是 0、 1 或 5 以外的任何錯誤）。|
  |5|使用者按下 N 來回應提示 」 繼續進行格式化 （是/否） 嗎？ 」 以停止該程序。|

  您可以使用 ERRORLEVEL 環境變數搭配 **if** 批次命令來檢查這些結束代碼。
- 在修復主控台使用 **format**

  您可以從修復主控台搭配不同參數使用 **format** 命令。

## <a name="BKMK_examples"></a>範例

若要使用預設大小來格式化磁碟機 A 中的新磁碟片，請輸入：
```
format a:
```
若要在磁碟機 A 中先前已格式化的磁碟片上執行快速格式化作業，請輸入：
```
format a: /q
```
若要格式化磁碟機 A 中的磁碟片，並為它指派 "DATA" 的磁碟區標籤，請輸入：
```
format a: /v:DATA
```

#### <a name="additional-references"></a>其他參考資料

[命令列語法關鍵](https://technet.microsoft.com/library/cc771080.aspx)