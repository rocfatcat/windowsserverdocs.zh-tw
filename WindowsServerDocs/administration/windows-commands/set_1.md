---
title: 設定
description: '適用於 Windows 命令主題 * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 5fdd60d6-addf-4574-8c92-8aa53fa73d76
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 21661b30c5779907e8cac417439a0935a2126ad8
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/31/2019
ms.locfileid: "66441277"
---
# <a name="set"></a>設定



顯示、 設定，或移除 cmd。EXE 環境變數。 如果未指定參數，使用**設定**會顯示目前的環境變數設定。

如需如何使用此命令的範例，請參閱[範例](#BKMK_examples)。

## <a name="syntax"></a>語法

```
set [<Variable>=[<String>]]
set [/p] <Variable>=[<PromptString>]
set /a <Variable>=<Expression>
```

## <a name="parameters"></a>參數

|參數|描述|
|---------|-----------|
|\<變數 >|指定要設定或修改之環境變數。|
|\<String>|指定要與指定的環境變數產生關聯的字串。|
|/p|設定的值*變數*以一行輸入使用者的輸入。|
|\<PromptString>|選擇性。 指定提示使用者輸入的訊息。 這個參數搭配 **/p**命令列選項。|
|/a|設定組*字串*會評估為數值運算式。|
|\<運算式 >|指定數值運算式。 可以使用中的有效運算子，請參閱備註*運算式*。|
|/?|在命令提示字元顯示說明。|

## <a name="remarks"></a>備註

- 使用**設定**與啟用的命令擴充功能

  命令延伸模組啟用時 （預設值），且您執行**設定**值，它會顯示所有值的開頭的變數。
- 使用特殊字元

  字元 **<** ， **>** ， **|** ， **&** ， **^** 特殊命令殼層的字元，而且它們必須加上逸出字元 ( **^** ) 或括在引號中使用時*字串*(例如 **"StringContaining & 符號"** )。 如果您使用引號括住包含一個特殊字元的字串時，引號都會設定為環境變數值的一部分。
- 使用環境變數

  使用環境變數來控制行為的某些批次檔和程式，以控制方式 Windows 與 MS-DOS 子系統隨即出現，並運作。 **設定**命令通常用於 Autoexec.nt 檔案中設定環境變數。
- 顯示目前的環境設定

  當您鍵入**設定**單獨，命令會顯示目前的環境設定。 這些設定通常會包括 COMSPEC 和路徑環境變數，可用來協助找出磁碟上的程式。 兩個其他 Windows 所使用的環境變數是提示字元，然後 DIRCMD。
- 使用參數

  當您指定的值*變數*並*字串*，指定*變數*值新增至環境並*字串*是該變數與相關聯。 如果在環境中已有變數，新的字串值會取代舊的字串值。

  如果您指定只有變數和等號 (不含*字串*) 的**設定**命令，*字串*（如同變數，就會清除與變數相關聯的值不在該處）。
- 使用  **/a**

  下表列出支援的運算子 **/a**以遞減的優先順序。  

  |        運算子         | 執行作業  |
  |-------------------------|----------------------|
  |           ( )           |       群組       |
  |          ! ~ -          |        一元         |
  |         \* / %          |      算術運算      |
  |           + -           |      算術運算      |
  |          << >>          |    邏輯移位     |
  |            &            |     位元 AND      |
  |            ^            | 位元互斥 OR |
  |                         |                      |
  | = \*= /= %= += -= &= ^= |      = <<= >>=       |
  |            、            | 運算式分隔符號 |

  如果您使用邏輯 ( **&&** 或是 **||** ) 或模數 ( **%** ) 運算子，以引號括住的運算式字串。 在運算式中的任何非數字字串視為環境變數的名稱，且其值會轉換成數字之前處理它們。 如果您指定了目前的環境中未定義的環境變數名稱時，所配置的值為零，可讓您執行以環境變數值的算術運算，而不使用 %擷取值。

  如果您執行**set /a**從命令列命令指令碼之外，它會顯示運算式的最終值。

  除非前置詞的十六進位數字 0 × 或八進位數字為 0，數值會是十進位數字。 因此，0x12 是 18，相同 022 相同。
- 支援延遲的環境變數擴充

  根據預設，會停用延遲的環境變數擴充支援，但您可以啟用或停用它使用**cmd /v**。
- 使用命令延伸模組

  命令延伸模組啟用時 （預設值），且您執行**設定**單獨，它會顯示所有目前的環境變數。 如果您執行**設定**值，它會顯示符合該值的變數。
- 使用**設定**批次檔中

  建立批次檔案時，您可以使用**設定**來建立變數，然後將它們使用相同的方式，您會使用已編號的變數 **%0**透過 **%9**。 您也可以使用變數 **%0**透過 **%9**作為輸入，如**設定**。
- 呼叫**設定**變數的批次檔

  當您從批次檔呼叫變數的值時，括住的值加上百分比符號 ( **%** )。 例如，如果您的 batch 程式會建立名為傳輸的環境變數，您可以使用與傳輸關聯做為可置換的參數輸入的字串**傳輸 %** 在命令提示字元。
- 使用**設定**在修復主控台

  **設定**命令，使用不同的參數，可從修復主控台。

## <a name="BKMK_examples"></a>範例

若要設定環境變數，名為 TEST ^1 個，類型：
```
set testVar=test^^1
```

> [!NOTE]
> **設定**命令會將指派的所有項目變數的值進行後續動作，等號 （=）。 如果您輸入：
> ```
> set testVar="test^1"
> ```
> 您會得到下列結果：
> ```
> testVar="test^1"
> ```
> 若要設定環境變數命名測試 (& 1)，型別：
> ```
> set testVar=test^&1
> ```
> 若要設定使字串 C:\Inc （磁碟機 C 上的 \Inc 目錄） 與它相關聯，名為 INCLUDE 環境變數，請輸入：
> ```
> set include=c:\inc
> ```
> 您接著可以使用批次檔中字串 C:\Inc，將包含名稱加上百分比符號 ( **%** )。 比方說，您可能會包含下列的命令批次檔中，讓您可以顯示 INCLUDE 環境變數與相關聯目錄的內容：
> ```
> dir %include%
> ```
> 處理此命令時，字串 C:\Inc 會取代 **%包含 %** 。

您也可以使用**設定**批次程式，將新的目錄新增至 PATH 環境變數中。 例如:
```
@echo off
rem ADDPATH.BAT adds a new directory
rem to the path environment variable.
set path=%1;%path%
set
```
若要顯示的所有字母 P 為開頭的環境變數清單，請輸入：
```
set p 
```

> [!NOTE]
> 此命令需要命令延伸模組，依預設會啟用。

#### <a name="additional-references"></a>其他參考資料

[命令列語法關鍵](command-line-syntax-key.md)